{
	"compiler": {
		"version": "0.8.31+commit.fd3a2265"
	},
	"language": "Solidity",
	"output": {
		"abi": [
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "_drawInterval",
						"type": "uint256"
					},
					{
						"internalType": "uint16",
						"name": "_minParticipants",
						"type": "uint16"
					},
					{
						"internalType": "uint16",
						"name": "_minTicketsSold",
						"type": "uint16"
					},
					{
						"internalType": "uint16",
						"name": "_maxTicketsPerDraw",
						"type": "uint16"
					}
				],
				"stateMutability": "nonpayable",
				"type": "constructor"
			},
			{
				"anonymous": false,
				"inputs": [
					{
						"indexed": false,
						"internalType": "address",
						"name": "winner",
						"type": "address"
					},
					{
						"indexed": false,
						"internalType": "uint64",
						"name": "prize",
						"type": "uint64"
					}
				],
				"name": "LotteryWinner",
				"type": "event"
			},
			{
				"anonymous": false,
				"inputs": [
					{
						"indexed": false,
						"internalType": "address",
						"name": "participant",
						"type": "address"
					},
					{
						"indexed": false,
						"internalType": "string",
						"name": "alert",
						"type": "string"
					}
				],
				"name": "ParticipantJoined",
				"type": "event"
			},
			{
				"anonymous": false,
				"inputs": [
					{
						"indexed": false,
						"internalType": "address",
						"name": "winner",
						"type": "address"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					}
				],
				"name": "PrizeClaimed",
				"type": "event"
			},
			{
				"inputs": [
					{
						"internalType": "uint8[5]",
						"name": "ticketNumbers",
						"type": "uint8[5]"
					}
				],
				"name": "buyTicket",
				"outputs": [],
				"stateMutability": "payable",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "claimPrize",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "",
						"type": "address"
					}
				],
				"name": "claimableWinnings",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "drawBlockNumber",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "drawInitiated",
				"outputs": [
					{
						"internalType": "bool",
						"name": "",
						"type": "bool"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "drawInterval",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "ended",
				"outputs": [
					{
						"internalType": "bool",
						"name": "",
						"type": "bool"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "findWinner",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "user",
						"type": "address"
					}
				],
				"name": "getParticipantStatus",
				"outputs": [
					{
						"internalType": "bool",
						"name": "",
						"type": "bool"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "host",
				"outputs": [
					{
						"internalType": "address payable",
						"name": "",
						"type": "address"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "lastDrawTime",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "maxTicketsPerDraw",
				"outputs": [
					{
						"internalType": "uint16",
						"name": "",
						"type": "uint16"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "minParticipants",
				"outputs": [
					{
						"internalType": "uint16",
						"name": "",
						"type": "uint16"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "minTicketsSold",
				"outputs": [
					{
						"internalType": "uint16",
						"name": "",
						"type": "uint16"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "",
						"type": "address"
					}
				],
				"name": "participantsToTickets",
				"outputs": [
					{
						"internalType": "bool",
						"name": "hasJoined",
						"type": "bool"
					},
					{
						"internalType": "uint16",
						"name": "numberOfTickets",
						"type": "uint16"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "prizePool",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "_interval",
						"type": "uint256"
					}
				],
				"name": "setDrawInterval",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "uint16",
						"name": "_maxTickets",
						"type": "uint16"
					}
				],
				"name": "setMaxTicketsPerDraw",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "uint16",
						"name": "_minParticipants",
						"type": "uint16"
					}
				],
				"name": "setMinParticipants",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "uint16",
						"name": "_minTickets",
						"type": "uint16"
					}
				],
				"name": "setMinTicketsSold",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "startLottery",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "ticketCost",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"stateMutability": "payable",
				"type": "receive"
			}
		],
		"devdoc": {
			"events": {
				"LotteryWinner(address,uint64)": {
					"params": {
						"prize": "The prize amount won",
						"winner": "The address of the winner"
					}
				},
				"ParticipantJoined(address,string)": {
					"params": {
						"alert": "Alert message",
						"participant": "The address of the participant"
					}
				},
				"PrizeClaimed(address,uint256)": {
					"params": {
						"amount": "The amount claimed",
						"winner": "The address of the winner"
					}
				}
			},
			"kind": "dev",
			"methods": {
				"buyTicket(uint8[5])": {
					"params": {
						"ticketNumbers": "Array of 5 unique numbers (1-99)"
					}
				},
				"claimPrize()": {
					"details": "Winners must call this to withdraw their winnings (pull payment pattern)"
				},
				"findWinner()": {
					"details": "Must be called after startLottery() and after the target block is reached"
				},
				"getParticipantStatus(address)": {
					"params": {
						"user": "The address to check for participation."
					},
					"returns": {
						"_0": "bool Returns true if the user has joined, false otherwise."
					}
				},
				"setDrawInterval(uint256)": {
					"params": {
						"_interval": "New interval in seconds (must be between 1-30 days)"
					}
				},
				"setMaxTicketsPerDraw(uint16)": {
					"params": {
						"_maxTickets": "New maximum (must be >= minTicketsSold)"
					}
				},
				"setMinParticipants(uint16)": {
					"params": {
						"_minParticipants": "New minimum (must be between 2-100)"
					}
				},
				"setMinTicketsSold(uint16)": {
					"params": {
						"_minTickets": "New minimum (must be >= minParticipants)"
					}
				},
				"startLottery()": {
					"details": "Can only be called when minimum requirements are met and trigger conditions satisfied"
				}
			},
			"stateVariables": {
				"claimableWinnings": {
					"params": {
						"user": "The address to check"
					},
					"return": "The amount of ETH claimable",
					"returns": {
						"_0": "The amount of ETH claimable"
					}
				},
				"drawBlockNumber": {
					"return": "The target block number",
					"returns": {
						"_0": "The target block number"
					}
				},
				"drawInitiated": {
					"return": "True if draw is in progress",
					"returns": {
						"_0": "True if draw is in progress"
					}
				},
				"drawInterval": {
					"return": "Time in seconds between draws",
					"returns": {
						"_0": "Time in seconds between draws"
					}
				},
				"host": {
					"return": "The host's address",
					"returns": {
						"_0": "The host's address"
					}
				},
				"lastDrawTime": {
					"return": "Unix timestamp",
					"returns": {
						"_0": "Unix timestamp"
					}
				},
				"maxTicketsPerDraw": {
					"return": "Maximum tickets before early trigger",
					"returns": {
						"_0": "Maximum tickets before early trigger"
					}
				},
				"minParticipants": {
					"return": "Minimum number of participants",
					"returns": {
						"_0": "Minimum number of participants"
					}
				},
				"minTicketsSold": {
					"return": "Minimum number of tickets",
					"returns": {
						"_0": "Minimum number of tickets"
					}
				},
				"prizePool": {
					"return": "The prize pool amount",
					"returns": {
						"_0": "The prize pool amount"
					}
				},
				"ticketCost": {
					"return": "The cost per ticket",
					"returns": {
						"_0": "The cost per ticket"
					}
				}
			},
			"version": 1
		},
		"userdoc": {
			"events": {
				"LotteryWinner(address,uint64)": {
					"notice": "Emitted when a winner is selected"
				},
				"ParticipantJoined(address,string)": {
					"notice": "Emitted when a participant joins the lottery"
				},
				"PrizeClaimed(address,uint256)": {
					"notice": "Emitted when a winner claims their prize"
				}
			},
			"kind": "user",
			"methods": {
				"buyTicket(uint8[5])": {
					"notice": "Buy a lottery ticket with chosen numbers"
				},
				"claimPrize()": {
					"notice": "Claim your prize winnings"
				},
				"claimableWinnings(address)": {
					"notice": "Get the claimable winnings for an address"
				},
				"drawBlockNumber()": {
					"notice": "Get the block number for randomness"
				},
				"drawInitiated()": {
					"notice": "Check if a draw has been initiated"
				},
				"drawInterval()": {
					"notice": "Get the draw interval"
				},
				"findWinner()": {
					"notice": "Finalize the lottery and select a winner"
				},
				"getParticipantStatus(address)": {
					"notice": "Checks if a user is signed up for the lottery. Refactored from the original loop approach, which iterated over the entire participant array and would become inefficient as the number of participants grew. Now uses the `hasJoined` mapping, which provides a direct lookup for constant-time access regardless of how many people are in the lottery."
				},
				"host()": {
					"notice": "Get the contract host address"
				},
				"lastDrawTime()": {
					"notice": "Get the timestamp of the last draw"
				},
				"maxTicketsPerDraw()": {
					"notice": "Get maximum tickets per draw"
				},
				"minParticipants()": {
					"notice": "Get minimum participants required"
				},
				"minTicketsSold()": {
					"notice": "Get minimum tickets required"
				},
				"prizePool()": {
					"notice": "Get the current prize pool"
				},
				"setDrawInterval(uint256)": {
					"notice": "Update the draw interval (time between draws)"
				},
				"setMaxTicketsPerDraw(uint16)": {
					"notice": "Update the maximum tickets per draw (triggers early draw)"
				},
				"setMinParticipants(uint16)": {
					"notice": "Update the minimum number of participants required"
				},
				"setMinTicketsSold(uint16)": {
					"notice": "Update the minimum number of tickets required"
				},
				"startLottery()": {
					"notice": "Start the lottery draw process"
				},
				"ticketCost()": {
					"notice": "Get the ticket cost"
				}
			},
			"notice": "Lottery with immutability.",
			"version": 1
		}
	},
	"settings": {
		"compilationTarget": {
			"contract/Lottery.sol": "Lottery"
		},
		"evmVersion": "osaka",
		"libraries": {},
		"metadata": {
			"bytecodeHash": "ipfs"
		},
		"optimizer": {
			"enabled": false,
			"runs": 200
		},
		"remappings": []
	},
	"sources": {
		"contract/ILottery.sol": {
			"keccak256": "0xf87bd024f4e3069731d9fb7f0456c9454d196de807c745b0e6a85a0c6364e095",
			"license": "MIT",
			"urls": [
				"bzz-raw://280c9083f383378fd8465ac825bfeae744a2c6d4fba2a47b9d8991da4064cc4f",
				"dweb:/ipfs/QmPcxMfp2r8eymU3LkJq4nfsqmN6yu7iwoYj1yGsaYVcz1"
			]
		},
		"contract/Lottery.sol": {
			"keccak256": "0xf1ffb97b2e36e0c5bcbe4fe93952c5ec2a56920cca43e52f86ce16be3cb741ac",
			"license": "MIT",
			"urls": [
				"bzz-raw://ce197da5b183230b9c7b5ab40dada08597ea52e48c1fd66ec95266989db8f97e",
				"dweb:/ipfs/QmW5xMnokPwiFNDRxZkE2mTHntYPt7jaCpcYULuUJnpt6w"
			]
		},
		"contract/Player.sol": {
			"keccak256": "0xa3f6657712a386df24584ea143d440e8c083c13763cecbc95ff78773256f2537",
			"license": "MIT",
			"urls": [
				"bzz-raw://66395884570cb50da93770cb2a140661e7ce19452486999d65df4ee44f4a9ed4",
				"dweb:/ipfs/QmQZLdVtNov1e3v5QzhQ9BgaMamGizE38MZAoBDDC5iNJy"
			]
		},
		"utils/Utils.sol": {
			"keccak256": "0xc4838f06ab50477e6affa690f8e7d0edb3ec2b976a77b84401861cd047aec418",
			"license": "MIT",
			"urls": [
				"bzz-raw://6d118ee059d6648f3d747c0b8a658da90375535bd4f0b9eaf4ca1a41a2e6829f",
				"dweb:/ipfs/QmSwuMbwTYbwTq6QxMp5YjZLN4RwuzYCxzcNXVe32jwFZZ"
			]
		}
	},
	"version": 1
}